<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>
    <button id="reset">Play again</button>

    <div id="player">
        <h2>Your Score:</h2>
    </div>

    <div id="computer">
        <h2>Computer Score:</h2>
    </div>
    <div id="result">
    </div>
    <script>
       
        let win = 0;
        let lose = 0;

        const rock = document.querySelector("#rock");
        const paper = document.querySelector("#paper");
        const scissors = document.querySelector("#scissors");
        const reset = document.querySelector("#reset");
        
        const playerScore = document.querySelector("#player");
        const scoreCount = document.createElement("div");
        scoreCount.classList.add("scoreCount");
        scoreCount.textContent = 0;
        playerScore.appendChild(scoreCount);

        const resultContainer = document.querySelector("#result");
        const result = document.createElement("div");
        result.classList.add("result");
        resultContainer.appendChild(result);

        const computerScore = document.querySelector("#computer");
        const scoreCountComputer = document.createElement("div");
        scoreCountComputer.classList.add("scoreCountComputer");
        scoreCountComputer.textContent = 0;
        computerScore.appendChild(scoreCountComputer);

        reset.addEventListener("click", () => {
            win = 0;
            lose = 0;
            scoreCountComputer.textContent = 0;
            scoreCount.textContent = 0;
            result.textContent = "";
        });

        rock.addEventListener("click", () => {
            if (win < 3 && lose < 3) {
                gameAmount("Rock");
            }
        })

        paper.addEventListener("click", () => {
            if (win < 3 && lose < 3) {
                gameAmount("Paper");
            }
        })

        scissors.addEventListener("click", () => {
            if (win < 3 && lose < 3) {
                gameAmount("Scissors");
            }
        })

        function getComputerChoice () {
            const threeChoices = ["Rock", "Paper", "Scissors"];
            let randomChoice = Math.floor(Math.random() * threeChoices.length);
            let computerSelection = threeChoices[randomChoice];
            return computerSelection;
        }

        
        function playRound (playerSelection, computerSelection) {
            computerSelection = getComputerChoice();
            
            if (playerSelection === "Rock" && computerSelection === "Paper") {
                return "You Lose! Paper beats Rock!";
            } else if (playerSelection === "Rock" && computerSelection === "Scissors") {
                return "You Win! Rock beats Scissors!";

            } else if (playerSelection === "Paper" && computerSelection === "Scissors") {
                return "You Lose! Scissors beats Paper!";
            } else if (playerSelection === "Paper" && computerSelection === "Rock") {
                return "You Win! Paper beats Rock!";

            } else if (playerSelection === "Scissors" && computerSelection === "Rock") {
                return "You Lose! Rock beats Scissors!";
            } else if (playerSelection === "Scissors" && computerSelection === "Paper") {
                return "You Win! Scissors beats Paper!";

            } else {
                return "It's a tie!";
            }
            
        }

        function gameAmount(PlayerSelection) {

            let roundResult = playRound(PlayerSelection);

            if (roundResult.slice(0, 8) === "You Win!") {
                win = win + 1;
                scoreCount.textContent = win;
                if (win === 3) {result.textContent = `You win! You have first reached ${win} points!`};
            } else if (roundResult.slice(0, 9) === "You Lose!") {
                lose = lose + 1;
                scoreCountComputer.textContent = lose;
                if (lose === 3) {result.textContent = `You loose! The enemy has first reached ${lose} points!`};
            } else if (roundResult.slice(0, 11) === "It's a tie!") {
            } else {
                console.log("Something went wrong! :(")
            };
        }

    </script>
</body>
</html>